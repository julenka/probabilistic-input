<!-- Created on 5/26/2014 -->
<!DOCTYPE html>
<html>
<head>
    <title>Name Your Demo Here</title>

    <!-- JQuery -->
    <script type="text/javascript" src="../lib/jquery.js"></script>

    <!-- Snap SVG library -->
    <script type="text/javascript" src="../lib/snap.svg.js"></script>

    <!-- Julia library -->
    <script type="text/javascript" src="../julia.js"></script>

    <!-- Julia CSS -->
    <link type="text/css" rel="stylesheet" href="../julia.css"/>

    <!-- Included Views-->

</head>
<body>
<h2>Your Demo Title Here</h2>
<div class="demo-description">Describe your demo here</div>
<table>
    <tr>
        <td><svg id="main_interface" class="demo-interface" width="640" height="480"></svg></td>
        <td><div id="alternatives" class="demo-alternatives"></div></td>
    </tr>
</table>


<table id="interactor_tree_table">
    <tr>
        <td>Interactor tree of main interface:</td>
    </tr>
    <tr>
        <td><div id="interactor_tree_div"/></td>
    </tr>
</table>

<script>
    // Your custom views here
</script>
<script>

    /**
     * Set up the interface here
     * @param rootView
     */
    function setup(rootView) {

    }

    /**
     * Return the feedback method to display here
     * @param julia
     * @returns {SimpleFeedback}
     */
    function getFeedback(julia) {
        return new SimpleFeedback(julia, FeedbackOpacityView);
    }

    /**
     * Executed when the document loads. Intended to be boilerplate, shouldn't have to replace much here (for now).
     */
    $(document).ready(function(){
        var mouse_variance = 10;
        var julia = new Julia();
        var rootView = new ContainerView(julia);
        julia.setRootView(rootView);

        setup(rootView);

        var $alternatives = $("#alternatives");
        var $mainInterface = $("#main_interface");
        // Add an event source
        var mouseHook = new PMouseEventHook($mainInterface[0]);
        mouseHook.variance_x_px = mouse_variance;
        mouseHook.variance_y_px = mouse_variance;
        julia.addEventSource(mouseHook);

        julia.drawFeedback($mainInterface, getFeedback(julia));

        julia.dispatchCompleted = function(new_alternatives, uiUpdated) {
            if(!uiUpdated) {
                return;
            }
            $mainInterface.empty();
            julia.drawFeedback($mainInterface, getFeedback(julia));
            julia.dumpAlternativesAsSnap($alternatives, $mainInterface.width(), $mainInterface.height(), 0.25);
        };

        $("#interactor_tree_table").hide();
    });
</script>
</body>
</html>