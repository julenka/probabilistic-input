    <!DOCTYPE html>
<html>
    <head>
        <title>Button Demo</title>
        <!-- JQuery -->
        <script type="text/javascript" src="../lib/jquery.js"></script>
        <script type="text/javascript" src="../lib/snap.svg.js"></script>

        <script type="text/javascript" src="../julia.js"></script>
        <link rel="stylesheet" type="text/css" href="../julia.css"/>
        <style type="text/css">
        </style>
    </head>
<body>
<div id="form">
<div>
    <label for="numSamples">number of event samples:</label>
    <input type="text" id="numSamples" value="1000"/>
</div>
<div>
    <label for="numAlternatives">number of alternatives to keep:</label>
    <input type="text" id="numAlternatives" value ="10"/>
</div>
<div>
    <label for="sampleVarianceX">sample x variance:</label>
    <input type="text" id="sampleVarianceX" value="10"/>
</div>
<div>
    <label for="sampleVarianceY">sample y variance:</label>
    <input type="text" id="sampleVarianceY" value="10"/>
</div>
<button onclick="update()">Update Settings</button>
</div>
<div>
    feedback type:
</div>
<div>
    <input name="fb" type="radio" id="radio_blur"/>
    <label for="radio_blur">blur</label>
</div>
<div>
    <input name="fb" type="radio" id="radio_opacity" checked="True"/>
    <label for="radio_opacity">opacity</label>
</div>
<table >
    <tr>
        <td>
            <svg class="unselectable border1px" id="sketch" width="320" height="200"></svg>
        </td>
        <td>
            <div id="sketches"></div>
        </td>

    </tr>
    <td>Interactor tree of main interface:</td>
    </tr>
    <tr>
        <td><div id="debug"/></td>
    </tr>
</table>



<script type="text/javascript">
    var julia = new Julia();
    var rootView = new ContainerView(julia);
    var buttons = [
        new Button(julia, 50, 50, 100, 50),
        new Button(julia, 170, 50, 100, 50),
        new Button(julia, 50, 120, 100, 50),
        new Button(julia, 170, 120, 100, 50)
    ];
    buttons.forEach(function(button) {
        button.addClickHandler(function(){ window.alert("button at (" + button.x + ", " + button.y + ") clicked!")});
        rootView.addChildView(button);
    });
    julia.setRootView(rootView);

    var $sketch = $("#sketch");
    var $sketches = $("#sketches");

    var feedback = new SimpleFeedback(julia, FeedbackOpacityView);
    $("#radio_blur").click(function(){
        feedback = new SimpleFeedback(julia, BlurOpacityView);
    });
    $("#radio_opacity").click(function() {
        feedback = new SimpleFeedback(julia, FeedbackOpacityView);
    });

    julia.dispatchCompleted = function(new_alternatives, uiUpdated) {
        if(!uiUpdated) {
            return;
        }
        julia.dumpAlternativesAsSnap($sketches, $sketch.width(), $sketch.height(), 0.5);
        $sketch.empty();
        var merged = julia.drawFeedback($sketch, feedback);
        merged.domDump($("#debug"));
    };

    var mouseHook = new PMouseEventHook($sketch[0]);
    julia.addEventSource(mouseHook);

    function update() {
        julia.nSamplesPerEvent = parseInt($("#numSamples").val());
        julia.nAlternativesToKeep = parseInt($("#numAlternatives").val());
        mouseHook.variance_x_px = parseInt($("#sampleVarianceX").val());
        mouseHook.variance_y_px = parseInt($("#sampleVarianceY").val());
        julia.setRootView(rootView);
        var merged = julia.drawFeedback($sketch, feedback);
        merged.domDump($("#debug"));
    }
    update();

</script>
</body>
</html>