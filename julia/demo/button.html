    <!DOCTYPE html>
<html>
    <head>
        <title>Button Demo</title>
        <!-- JQuery -->
        <script type="text/javascript" src="../lib/jquery.js"></script>
        <script type="text/javascript" src="../lib/snap.svg.js"></script>

        <script type="text/javascript" src="../julia.js"></script>
        <link rel="stylesheet" type="text/css" href="../julia.css"/>
        <style type="text/css">
        </style>
    </head>
<body>
<div id="form">
<div>
    <label for="numSamples">number of event samples:</label>
    <input type="text" id="numSamples" value="10"/>
</div>
<div>
    <label for="numAlternatives">number of alternatives to keep:</label>
    <input type="text" id="numAlternatives" value ="10"/>
</div>
<div>
    <label for="sampleVarianceX">sample x variance:</label>
    <input type="text" id="sampleVarianceX" value="10"/>
</div>
<div>
    <label for="sampleVarianceY">sample y variance:</label>
    <input type="text" id="sampleVarianceY" value="10"/>
</div>
<div>
    <label for="circleRadius">circle radius:</label>
    <input type="text" id="circleRadius" value="10"/>
</div>
<button onclick="update()">Update Settings</button>
</div>
<table >
    <tr>
        <td>
            <svg class="unselectable border1px" id="sketch" width="500" height="700"></svg>
        </td>
        <td>
            <div id="sketches"></div>
        </td>

    </tr>
</table>



<script type="text/javascript">
    var julia = new Julia();
    var rootView = new ContainerView(julia);
    var cursor = new Cursor(julia);
    cursor.opacity = 0.2;
    var buttons = [
        new Button(julia, 50, 50, 100, 50),
        new Button(julia, 150, 50, 100, 50),
        new Button(julia, 50, 100, 100, 50),
        new Button(julia, 150, 100, 100, 50)
    ];
    buttons.forEach(function(button) {
        button.addClickHandler(function(){ window.alert("button at (" + button.x + ", " + button.y + ") clicked!")});
        rootView.addChildView(button);
    });
//    rootView.addChildView(cursor);
    julia.setRootView(rootView);

    var txtXVariance = $("#sampleVarianceX");
    var txtYVariance = $("#sampleVarianceY");
    var txtNumSamples = $("#numSamples");
    var txtNumAlternatives = $("#numAlternatives");
    var txtCursorRadius = $("#circleRadius");
    var $sketch = $("#sketch");
    var $sketches = $("#sketches");



    julia.dispatchCompleted = function(new_alternatives, uiUpdated) {
        if(!uiUpdated) {
            return;
        }

        $sketch.empty();
        $sketches.empty();
        var w = $sketch.width();
        var h = $sketch.height();
        new_alternatives.forEach(function(view_probability, i) {
            view_probability.view.draw($sketch);
            var d = $("<div class='float-left'></div>");
            d.append(["<div>","sketch", i, ":", Math.roundWithSignificance(view_probability.probability, 2), "</div>"].join(" "));
            var s = Snap(w / 10, h / 10);
            var s_dom = s.node;
            s_dom.setAttribute("viewBox", [0, 0, w, h].join(" "));
            d.append(s_dom);
            view_probability.view.draw($(s_dom));
            $sketches.append(d);
        });
    };

    var mouseHook = new PMouseEventHook($sketch[0]);
    julia.addEventSource(mouseHook);

    function update() {
        julia.nSamplesPerEvent = parseInt(txtNumSamples.val());
        julia.nAlternativesToKeep = parseInt(txtNumAlternatives.val());
        mouseHook.variance_x_px = parseInt(txtXVariance.val());
        mouseHook.variance_y_px = parseInt(txtYVariance.val());
        cursor.radius = parseInt(txtCursorRadius.val());
        julia.setRootView(rootView);
        julia.alternatives[0].view.draw($sketch);
    }
    update();

</script>
</body>
</html>